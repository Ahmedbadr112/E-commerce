import{a as q}from"./chunk-JPZC7CUK.js";import{a as T,b as g,c as N,d as B,h as L,i as P,j as A,k as D,l as G,n as V}from"./chunk-HZTAGDPS.js";import{c as S,u as R}from"./chunk-NRSPPHHT.js";import{Ab as f,Hb as r,Ob as k,Qb as F,Ra as d,Y as y,ba as v,hb as m,jb as C,nb as s,qb as i,rb as t,sb as p,zb as E}from"./chunk-Y3K4MGWQ.js";import"./chunk-YHOLSLLF.js";var M=(e,n)=>({"is-valid":e,"is-invalid":n});function Y(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"Name required"),t(),r(3," Change a few things up and try submitting again. "),t())}function $(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"name should be more than or equal 3 chars"),t(),r(3," Change a few things up and try submitting again. "),t())}function j(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"name should be less than or equal 20 chars"),t(),r(3," Change a few things up and try submitting again. "),t())}function O(e,n){if(e&1&&(i(0,"div",7),m(1,Y,4,0,"p")(2,$,4,0)(3,j,4,0),t()),e&2){let o,a=f();d(),s(1,(o=a.registerForm.get("name"))!=null&&o.getError("required")?1:(o=a.registerForm.get("name"))!=null&&o.getError("minlength")?2:(o=a.registerForm.get("name"))!=null&&o.getError("maxlength")?3:-1)}}function z(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"email required"),t(),r(3," Change a few things up and try submitting again. "),t())}function H(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"Enter valid email"),t(),r(3," Change a few things up and try submitting again. "),t())}function I(e,n){if(e&1&&(i(0,"div",7),m(1,z,4,0,"p")(2,H,4,0),t()),e&2){let o,a=f();d(),s(1,(o=a.registerForm.get("email"))!=null&&o.getError("required")?1:(o=a.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function J(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"password required"),t(),r(3," Change a few things up and try submitting again. "),t())}function K(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"enter valid password"),t(),r(3," Change a few things up and try submitting again. "),t())}function Q(e,n){if(e&1&&(i(0,"div",7),m(1,J,4,0,"p")(2,K,4,0),t()),e&2){let o,a=f();d(),s(1,(o=a.registerForm.get("password"))!=null&&o.getError("required")?1:(o=a.registerForm.get("password"))!=null&&o.getError("pattern")?2:-1)}}function U(e,n){e&1&&(i(0,"div",7)(1,"p")(2,"span",17),r(3,"password confirmation invalid"),t(),r(4," Change a few things up and try submitting again. "),t()())}function W(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"phone required"),t(),r(3," Change a few things up and try submitting again. "),t())}function X(e,n){e&1&&(i(0,"p")(1,"span",17),r(2,"enter valid phone"),t(),r(3," Change a few things up and try submitting again. "),t())}function Z(e,n){if(e&1&&(i(0,"div",7),m(1,W,4,0,"p")(2,X,4,0),t()),e&2){let o,a=f();d(),s(1,(o=a.registerForm.get("phone"))!=null&&o.getError("required")?1:(o=a.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function ee(e,n){e&1&&(i(0,"span"),p(1,"i",18),t())}function te(e,n){e&1&&(i(0,"div",7)(1,"p")(2,"span",17),r(3,"Account alredy exist"),t()()())}var se=(()=>{let n=class n{constructor(){this.url="/login",this.msgErr="",this.isLoading=!1,this._AuthService=y(q),this._FormBuilder=y(G),this.registerForm=this._FormBuilder.group({name:this._FormBuilder.control(null,[g.required,g.minLength(3),g.maxLength(20)]),email:this._FormBuilder.control(null,[g.required,g.email]),password:this._FormBuilder.control(null,[g.required,g.pattern(/^\w{6,}$/)]),rePassword:this._FormBuilder.control(null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)]),phone:this._FormBuilder.control(null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPassword),this.Router=y(R)}registerSubmit(){this.registerForm.valid?(this.isLoading=!0,this.registerSubscription=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:a=>{this.Router.navigate([this.url]),console.log(a),this.isLoading=!1},error:a=>{this.msgErr=a.error.message,console.log(a),this.isLoading=!1}})):(this.registerForm.setErrors({mismatch:!0}),this.registerForm.markAllAsTouched())}ngOnDestroy(){this.registerSubscription?.unsubscribe()}confirmPassword(a){return a.get("password")?.value===a.get("rePassword")?.value?null:{mismatch:!0}}};n.\u0275fac=function(h){return new(h||n)},n.\u0275cmp=v({type:n,selectors:[["app-register"]],standalone:!0,features:[k],decls:34,vars:13,consts:[[1,"text-main","bg-main-light","show","shadow-gray-600","shadow-2xl","rounded-xl","p-10","w-3/4","mx-auto","my-5","mt-10"],[1,"text-main","text-4xl","text-center","mb-4"],[1,"container","mx-auto"],[1,"relative",3,"ngSubmit","formGroup"],[1,"mb-5"],["for","name",1,"block","text-main","text-xl","mb-2","font-medium","text-gray-900","dark:text-white"],["type","name","id","name","placeholder","Name","required","","formControlName","name",1,"bg-gray-50","border","border-gray-300","shadow-md","text-gray-900","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500",3,"ngClass"],["role","alert",1,"p-4","my-4","text-sm","shadow-lg","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],["for","email",1,"block","mb-2","text-main","text-xl","font-medium","text-gray-900","dark:text-white"],["type","email","id","email","placeholder","name@email.com","required","","formControlName","email",1,"bg-gray-50","border","border-gray-300","shadow-md","text-gray-900","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500"],["for","password",1,"block","mb-2","text-main","text-xl","font-medium","text-gray-900","dark:text-white"],["type","password","id","password","required","","formControlName","password",1,"bg-gray-50","border","border-gray-300","shadow-md","text-gray-900","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500"],["for","rePassword",1,"block","mb-2","font-medium","text-main","text-xl","dark:text-white"],["type","password","id","rePassword","required","","formControlName","rePassword",1,"bg-gray-50","border","border-gray-300","shadow-md","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500"],["for","phone",1,"block","mb-2","text-xl","font-medium","text-main","dark:text-white"],["type","text","id","phone","required","","formControlName","phone",1,"bg-gray-50","border","border-gray-300","shadow-md","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500"],["type","submit",1,"btn-main","ms-auto","block","my-5",3,"disabled"],[1,"font-medium"],[1,"fas","fa-spin","fa-spinner"]],template:function(h,l){if(h&1&&(i(0,"section",0)(1,"h1",1),r(2,"Rgeister Now:"),t(),i(3,"div",2)(4,"form",3),E("ngSubmit",function(){return l.registerSubmit()}),i(5,"div",4)(6,"label",5),r(7,"Your name"),t(),p(8,"input",6),m(9,O,4,1,"div",7),t(),i(10,"div",4)(11,"label",8),r(12,"Your email"),t(),p(13,"input",9),m(14,I,3,1,"div",7),t(),i(15,"div",4)(16,"label",10),r(17,"Your password"),t(),p(18,"input",11),m(19,Q,3,1,"div",7),t(),i(20,"div",4)(21,"label",12),r(22,"Repassword"),t(),p(23,"input",13),m(24,U,5,0,"div",7),t(),i(25,"div",4)(26,"label",14),r(27,"phone"),t(),p(28,"input",15),m(29,Z,3,1,"div",7),t(),i(30,"button",16),r(31," register "),m(32,ee,2,0,"span"),t(),m(33,te,4,0,"div",7),t()()()),h&2){let u,c,_,x,w,b;d(4),C("formGroup",l.registerForm),d(4),C("ngClass",F(10,M,!((u=l.registerForm.get("name"))!=null&&u.errors)&&((u=l.registerForm.get("name"))==null?null:u.touched),((u=l.registerForm.get("name"))==null?null:u.errors)&&((u=l.registerForm.get("name"))==null?null:u.touched))),d(),s(9,(c=l.registerForm.get("name"))!=null&&c.errors&&((c=l.registerForm.get("name"))!=null&&c.touched||(c=l.registerForm.get("name"))!=null&&c.dirty)?9:-1),d(5),s(14,(_=l.registerForm.get("email"))!=null&&_.errors&&((_=l.registerForm.get("email"))!=null&&_.touched)?14:-1),d(5),s(19,(x=l.registerForm.get("password"))!=null&&x.errors&&((x=l.registerForm.get("password"))!=null&&x.touched)?19:-1),d(5),s(24,l.registerForm.getError("mismatch")&&((w=l.registerForm.get("rePassword"))!=null&&w.touched)?24:-1),d(5),s(29,(b=l.registerForm.get("phone"))!=null&&b.errors&&((b=l.registerForm.get("phone"))!=null&&b.touched)?29:-1),d(),C("disabled",l.registerForm.invalid||l.isLoading),d(2),s(32,l.isLoading?32:-1),d(),s(33,l.msgErr?33:-1)}},dependencies:[V,L,T,N,B,D,P,A,S]});let e=n;return e})();export{se as RegisterComponent};

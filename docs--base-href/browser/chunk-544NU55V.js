import{a as V}from"./chunk-RC52KYQB.js";import{l as j}from"./chunk-ZRMB4MTA.js";import{i as A,v as R}from"./chunk-NRSPPHHT.js";import{Ab as f,Hb as a,Ib as C,Jb as v,Na as S,Ob as L,Pb as T,Ra as d,S as x,T as O,V as m,X as D,Y as g,ba as y,ca as k,jb as h,la as p,ma as w,na as B,ob as I,pb as P,qb as s,rb as r,sb as u,vb as _,zb as c}from"./chunk-Y3K4MGWQ.js";import"./chunk-YHOLSLLF.js";var b=new m("@sweetalert2/ngx-sweetalert2#swalProvider"),E=new m("@sweetalert2/ngx-sweetalert2#fireOnInit"),F=new m("@sweetalert2/ngx-sweetalert2#dismissOnDestroy"),M=(()=>{class n{swalProvider;swalPromiseCache;constructor(e){this.swalProvider=e}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;let e=o(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=e.then(i=>t(i)?i:i.default);function o(i){return typeof i=="function"&&i.version===void 0}function t(i){return typeof i=="function"}}static \u0275fac=function(o){return new(o||n)(D(b))};static \u0275prov=x({token:n,factory:n.\u0275fac})}return n})();function N(){return import("./chunk-ELJ2RXKI.js")}var H=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[M,{provide:b,useValue:e.provideSwal||N},{provide:E,useValue:e.fireOnInit||!1},{provide:F,useValue:e.dismissOnDestroy||!0}]}}static forChild(e={}){return{ngModule:n,providers:[...e.provideSwal?[M,{provide:b,useValue:e.provideSwal}]:[],...e.fireOnInit!==void 0?[{provide:E,useValue:e.fireOnInit}]:[],...e.dismissOnDestroy!==void 0?[{provide:F,useValue:e.dismissOnDestroy}]:[]]}}static \u0275fac=function(o){return new(o||n)};static \u0275mod=k({type:n});static \u0275inj=O({imports:[A]})}return n})();var U=(n,l)=>l.product.id,$=n=>["/orders",n];function W(n,l){if(n&1){let e=_();s(0,"div",6)(1,"div",18)(2,"a",19),u(3,"img",20),r(),s(4,"div",21)(5,"div",22)(6,"button",23),c("click",function(){let t=p(e).$implicit,i=f();return w(i.updateCount(t.product.id,t.count-1))}),u(7,"i",24),r(),s(8,"span",25),a(9),r(),s(10,"button",23),c("click",function(){let t=p(e).$implicit,i=f();return w(i.updateCount(t.product.id,t.count+1))}),u(11,"i",26),r()(),s(12,"div",27)(13,"p",13),a(14),r()()(),s(15,"div",28)(16,"h3",29),a(17),r(),s(18,"div",30)(19,"button",31),c("click",function(){let t=p(e).$implicit,i=f();return w(i.removeItem(t.product.id))}),B(),s(20,"svg",32),u(21,"path",33),r(),a(22," Remove "),r()()()()()}if(n&2){let e=l.$implicit;d(3),h("src",e.product.imageCover,S),d(6),C(e.count),d(5),v(" ",e.price," "),d(3),C(e.product.title)}}var Ie=(()=>{let l=class l{constructor(){this._CartService=g(V),this._Toaster=g(j),this.cartDetalis={}}ngOnInit(){this._CartService.getCart().subscribe({next:o=>{console.log(o.data),this.cartDetalis=o.data}})}removeItem(o){this._CartService.deleteCartItem(o).subscribe({next:t=>{console.log(t),this.cartDetalis=t.data}})}updateCount(o,t){t>0?this._CartService.updateCart(o,t).subscribe({next:i=>{console.log(i.data),this.cartDetalis=i.data}}):(this.removeItem(o),this._Toaster.success("item removed successfully"))}clearCart(o){this._CartService.clearCart().subscribe({next:t=>{console.log(t),t.message==="success"&&(this.cartDetalis={},this._Toaster.success("cart cleard successfully"),this._CartService.cartNumber.set(0))},error:t=>{console.log(t)}})}};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y({type:l,selectors:[["app-cart"]],standalone:!0,features:[L],decls:28,vars:4,consts:[[1,"bg-white","bg-main-light","my-4","py-8","antialiased","dark:bg-gray-900","md:py-16"],[1,"mx-auto","max-w-screen-xl","items-center","px-4","2xl:px-0"],[1,"text-xl","text-main","text-center","font-semibold","text-gray-900","dark:text-white","sm:text-2xl"],[1,"bg-main-light","shadow-lg","mt-6","sm:mt-8","md:gap-6","p-5","justify-center","lg:flex","lg:items-start","xl:gap-8"],[1,"mx-auto","w-full","flex-none","lg:max-w-2xl","xl:max-w-4xl"],[1,"space-y-6"],[1,"rounded-lg","border","mt-2","my-5","border-gray-200","bg-white","p-4","shadow-sm","dark:border-gray-700","dark:bg-gray-800","md:p-6"],[1,"p-5","bg-red-600","rounded-lg","w-full","text-white",3,"click"],[1,"mx-auto","mt-6","max-w-4xl","flex-1","space-y-6","lg:mt-0","lg:w-full"],[1,"space-y-4","rounded-lg","border","border-gray-200","bg-white","p-4","shadow-sm","dark:border-gray-700","dark:bg-gray-800","sm:p-6"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"space-y-4"],[1,"flex","items-center","justify-between","gap-4","border-t","border-gray-200","pt-2","dark:border-gray-700"],[1,"text-base","font-bold","text-gray-900","dark:text-white"],[1,"btn-main","w-full",3,"routerLink"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-sm","font-normal","text-gray-500","dark:text-gray-400"],["routerLink","/home","title","",1,"text-main","inline-flex","items-center","gap-2","text-sm","font-medium","text-primary-700","underline","hover:no-underline","dark:text-primary-500"],[1,"space-y-4","md:flex","md:items-center","md:justify-between","md:gap-6","md:space-y-0"],["href","#",1,"shrink-0","md:order-1"],["alt","imac image",1,"h-20","w-20","dark:hidden",3,"src"],[1,"flex","items-center","justify-between","md:order-3","md:justify-end"],[1,"flex","items-center"],["type","button",1,"btn-main",3,"click"],[1,"fa-solid","fa-minus"],[1,"m-5"],[1,"fa-solid","fa-plus"],[1,"text-end","md:order-4","md:w-32"],[1,"w-full","min-w-0","flex-1","space-y-4","md:order-2","md:max-w-md"],[1,"text-main","text-xl"],[1,"flex","items-center","gap-4"],["type","button",1,"inline-flex","items-center","text-sm","font-medium","text-red-600","hover:underline","dark:text-red-500",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"me-1.5","h-5","w-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18 17.94 6M18 18 6.06 6"]],template:function(t,i){t&1&&(s(0,"section",0)(1,"div",1)(2,"h2",2),a(3," Shopping Cart "),r(),s(4,"div",3)(5,"div",4)(6,"div",5),I(7,W,23,4,"div",6,U),s(9,"button",7),c("click",function(){return i.clearCart(i.cartDetalis._id)}),a(10," Clear cart "),r(),s(11,"div",8)(12,"div",9)(13,"p",10),a(14," Order summary "),r(),s(15,"div",11)(16,"dl",12)(17,"dt",13),a(18," Total "),r(),s(19,"dd",13),a(20),r()()(),s(21,"button",14),a(22," Proceed to Checkout "),r(),s(23,"div",15)(24,"span",16),a(25," or "),r(),s(26,"a",17),a(27," Continue Shopping "),r()()()()()()()()()),t&2&&(d(7),P(i.cartDetalis.products),d(13),v(" ",i.cartDetalis.totalCartPrice," Egp "),d(),h("routerLink",T(2,$,i.cartDetalis._id)))},dependencies:[R,H]});let n=l;return n})();export{Ie as CartComponent};

import{a as k}from"./chunk-JPZC7CUK.js";import{a as v,b as g,c as S,d as w,h as F,i as _,j as E,l as L,n as C}from"./chunk-HZTAGDPS.js";import{u as x,v as y}from"./chunk-NRSPPHHT.js";import{Hb as a,Ob as h,Ra as l,Y as s,ba as f,hb as u,jb as p,nb as c,qb as t,rb as e,sb as d,zb as b}from"./chunk-Y3K4MGWQ.js";import"./chunk-YHOLSLLF.js";function N(r,i){r&1&&(t(0,"span"),d(1,"i",11),e())}function A(r,i){r&1&&(t(0,"div",10)(1,"p")(2,"span",12),a(3,"invalid password or email"),e()()())}var j=(()=>{let i=class i{constructor(){this.Router=s(x),this._AuthService=s(k),this._FormBuilder=s(L),this.msgErr="",this.isLoading=!1,this.loginForm=this._FormBuilder.group({email:this._FormBuilder.control(null,[g.required,g.email]),password:this._FormBuilder.control(null,[g.required])})}loginSubmit(){this.loginForm.valid?(this.isLoading=!0,this.loginSubscription=this._AuthService.setLoginForm(this.loginForm.value).subscribe({next:o=>{setTimeout(()=>{localStorage.setItem("userToken",o.token),this._AuthService.saveUserData(),this.Router.navigate(["/home"])},1e3),console.log(o),console.log("login submit"),this.isLoading=!1},error:o=>{this.msgErr=o.error.message,console.log(o),this.isLoading=!1}})):this.loginForm.markAllAsTouched()}ngOnDestroy(){this.loginSubscription?.unsubscribe()}};i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=f({type:i,selectors:[["app-login"]],standalone:!0,features:[h],decls:18,vars:4,consts:[[1,"text-main","bg-main-light","show","shadow-gray-600","shadow-2xl","rounded-xl","p-10","w-3/4","mx-auto","my-5"],[1,"text-main","text-4xl","text-center","mb-4"],[1,"container","mx-auto",3,"ngSubmit","formGroup"],["for","email",1,"block","text-main","text-xl","mb-2","font-medium","text-gray-900","dark:text-white"],["formControlName","email","id","email","placeholder","ex@email.com","type","email",1,"bg-gray-50","border","border-gray-300","shadow-md","text-gray-900","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500"],[1,"my-5"],["for","password",1,"block","text-main","text-xl","mb-2","font-medium","text-gray-900","dark:text-white"],["formControlName","password","id","password","type","email",1,"bg-gray-50","border","border-gray-300","shadow-md","text-gray-900","text-main","text-xl","rounded-lg","focus:ring-gray-500","focus:border-gray-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-gray-500","dark:focus:border-gray-500"],["routerLink","/forgotPassword",1,"text-gray-400","duration-300"],["type","submit",1,"btn-main","ms-auto","block","my-5",3,"disabled"],["role","alert",1,"p-4","my-4","text-sm","shadow-lg","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"fas","fa-spin","fa-spinner"],[1,"font-medium"]],template:function(m,n){m&1&&(t(0,"div",0)(1,"h1",1),a(2,"Login"),e(),t(3,"form",2),b("ngSubmit",function(){return n.loginSubmit()}),t(4,"div")(5,"label",3),a(6,"Email"),e(),d(7,"input",4),e(),t(8,"div",5)(9,"label",6),a(10,"password"),e(),d(11,"input",7),e(),t(12,"a",8),a(13,"forgot passowrd?"),e(),t(14,"button",9),a(15," Login "),u(16,N,2,0,"span"),e(),u(17,A,4,0,"div",10),e()()),m&2&&(l(3),p("formGroup",n.loginForm),l(11),p("disabled",n.isLoading),l(2),c(16,n.isLoading?16:-1),l(),c(17,n.msgErr?17:-1))},dependencies:[C,F,v,S,w,_,E,y]});let r=i;return r})();export{j as LoginComponent};
